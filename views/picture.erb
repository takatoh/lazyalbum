<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">

<html lang="ja">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS" />
  <title>Picture</title>
  <% if stylesheet %><link rel="stylesheet" type="text/css" href="<%= stylesheet %>"><% end %>
  <script src="js/prototype.js"></script>
</head>

<body>

<div class="header"><h1><%= page_title %></h1></div>
<div class="pageheader"><%= breadcrumbs(entry) %></h2></div>

<div class="pagebody">
  <h3>Picture: <%= picture %></h3>
  <img id="main_picture" src="<%= url_to_picture(entry, picture) %>">
</div>

<script type="text/javascript">
img = $("main_picture");

if(img) {
  img.onclick = function() {scale(img);};

  msg_div = document.createElement("div");
  msg_div.id = "msg_div";
  msg_div.appendChild(document.createTextNode("Note: Picture has been scaled to fit the screen; click to original."));
  msg_div.style.display="none";
  img.parentNode.insertBefore(msg_div, img);

//  scale(img);
}

function scale(img) {
//  alert(img.parentNode.clientWidth + ", " +  img.clientWidth);
  if(img.style.width != "100%") {
    img.style.width = "100%";
    msg_div.style.display = "block";
  }
  else {
    img.style.width = "";
    msg_div.style.display = "none";
  }
}
</script>

</body>

</html>
